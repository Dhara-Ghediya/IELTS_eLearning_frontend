{% extends 'base.html' %}
{% load static %}
{% block content %}

    <!-- Header Start -->
    <div class="container-fluid bg-primary py-5 mb-5 page-header">
        <div class="container py-5">
            <div class="row justify-content-center">
                <div class="col-lg-10 text-center">
                    <h1 class="display-3 text-white animated slideInDown">Reading Test</h1>
                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb justify-content-center">
                            <li class="breadcrumb-item"><a class="text-white" href="{% url 'home' %}">Home</a></li>
                            <li class="breadcrumb-item"><a class="text-white" href="#">Pages</a></li>
                            <li class="breadcrumb-item text-white active" aria-current="page">Reading Test</li>
                        </ol>
                    </nav>
                </div>
            </div>
        </div>
    </div>
    <!-- Header End -->
<div>
    <div style="margin-left: 75%;">Your exam will be submit automatically after... </div>
    <div id="timer-display" style="font-size: 40px; font-weight: bolder; color: black; padding-left: 80%;"></div>

	<table class="tab brown hd" style="margin-left: auto; margin-right: auto;">
		<tr>
			<td> <h2> Answer below Questions... </h2> </td>
		</tr>
	</table><br>

	<table class="tab" border="0px" style="margin-left: auto; margin-right: auto; margin: 0% 20%;">
		
		<tr>
			<td>
                
				<form action="" method="post" enctype="multipart/form-data">
					
					{% csrf_token %}
                    <input type="hidden" name="que_id" value="{{data.0.id}}">
                    <h4>Read below Passage carefully:</h4> <br>
                    {{data.0.question}} <br><br>
                    <h4> Answer below 5 quesions based on above Passage:</h4> <br>

                    <div id="questionContainer">
                        <div class="question">
                            <h6>1. {{data.0.question1}}</h6> 
                            <input type="text" name="answer1" placeholder="write answer here..." required><br><br>
                        </div>
                        <div class="question">
                            <h6>2. {{data.0.question2}}</h6> 
                            <input type="text" name="answer2" placeholder="write answer here..." required><br><br>
                        </div>
                        <div class="question">
                            <h6>3. {{data.0.question3}}</h6> 
                            <input type="text" name="answer3" placeholder="write answer here..." required><br><br>
                        </div>
                        <div class="question">
                            <h6>4. {{data.0.question4}}</h6> 
                            <input type="text" name="answer4" placeholder="write answer here..." required><br><br>
                        </div>
                        <div class="question">
                            <h6>5. {{data.0.question5}}</h6> 
                            <input type="text" name="answer5" placeholder="write answer here..." required><br><br>
                        </div>
                    </div> 

                    <button id="nextButton">Next</button>

					<input type="submit" value="Submit">
				</form>
			</td>
		</tr> 
	</table>
</div>	

<script>

const questionContainer = document.getElementById('questionContainer');
const questions = questionContainer.getElementsByClassName('question');
const nextButton = document.getElementById('nextButton');

let currentQuestionIndex = 0;

// Hide all questions except the first one
function hideAllQuestions() {
    for (let i = 0; i < questions.length; i++) {
        questions[i].style.display = 'none';
    }
}

// Show the current question
function showCurrentQuestion() {
    hideAllQuestions();
    questions[currentQuestionIndex].style.display = 'block';
}

// Event listener for the Next button
nextButton.addEventListener('click', function() {
    // If there are more questions, show the next one
    if (currentQuestionIndex < questions.length - 1) {
        currentQuestionIndex++;
        showCurrentQuestion();
    } else {
        // If all questions have been shown, you can handle the completion of the test here
        alert('Test completed!');
    }
});

// Show the first question initially
showCurrentQuestion();


</script>

{% endblock content %}